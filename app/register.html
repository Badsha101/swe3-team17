<!DOCTYPE html>
<html lang="de">
<head>
    <link rel="stylesheet" href="indexStyle.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="navbar.css">
</head>
<body>
<div class="navbar">
    <a href="index.html">Home</a>
    <a href="#" class="active">Registrieren</a>
    <a href="userLogin.html">Einloggen</a>
    <a href="adminLogin.html" class="roll">Admin</a>
</div>

<div class="container">
    <h1>Registrieren</h1>
    <form action="register" method="post">
        <label for="firstname">Vorname :</label>
        <input type="text" id="firstname" name="firstname" required class="input-field">

        <label for="lastname">Nachname :</label>
        <input type="text" id="lastname" name="lastname" required class="input-field">

        <label for="email">E-mail Adresse :</label>
        <input type="email" id="email" name="email" required class="input-field">

        <label for="password1">Passwort :</label>
        <input type="password" id="password1" name="password1" required class="input-field">

        <label for="password2">Passwort wiederholen:</label>
        <input type="password" id="password2" name="password2" required class="input-field">

        <br><br>
        <button type="submit">Registrieren</button>
    </form>

    <p><a href="userLogin.html" class="links">Einloggen</a></p>

    <script>
        // Get the error parameter from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get("error");

        if (error === "1") {
            displayError("Registration failed. Please try again.");
        } else if (error === "emailexists") {
            displayError("Email exists, please enter another email.");
        } else if (error === "passwordmismatch") {
            displayError("Passwords do not match. Please try again.");
        } else if (error === "success") {
            displaySuccess("Registration successful! You can now log in.");
        }

        function displayError(message) {
            const errorElement = document.createElement("p");
            errorElement.style.color = "red";
            errorElement.textContent = message;
            document.querySelector(".container").appendChild(errorElement);
        }

        function displaySuccess(message) {
            const successElement = document.createElement("p");
            successElement.style.color = "green";
            successElement.textContent = message;
            document.querySelector(".container").appendChild(successElement);
        }
    </script>
</div>
</body>
</html>
